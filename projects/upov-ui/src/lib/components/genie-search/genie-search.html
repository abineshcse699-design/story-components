<div class="search-container">

  <!-- ================= INPUT ================= -->
  <div class="search-input-wrapper">
    <mat-icon class="search-icon">search</mat-icon>

    <input
      type="text"
      class="search-input"
      [formControl]="control"
      [placeholder]="placeholder"
      (keyup.enter)="onSubmit()"
    />

    <!-- Clear -->
    <button
      *ngIf="clearable && control.value"
      class="clear-btn"
      type="button"
      (click)="clear()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- ================= TOGGLE ================= -->
  <div class="search-toggle" *ngIf="toggleOptions.length">
    <mat-button-toggle-group>
      <mat-button-toggle
        *ngFor="let option of toggleOptions"
        [checked]="option.active"
        (click)="onToggleSelect(option)">
        {{ option.label }}
      </mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <!-- ================= AUTOCOMPLETE ================= -->
  <div
    class="autocomplete-dropdown"
    *ngIf="showAutocomplete && control.value">

    <div
      class="autocomplete-item"
      *ngFor="let option of autocomplete"
      (mousedown)="selectOption(option)">

      <div class="autocomplete-main">
        {{ getOptionValue(option) }}
      </div>

      <div
        class="autocomplete-sub"
        *ngIf="getOptionDescription(option)">
        {{ getOptionDescription(option) }}
      </div>
    </div>
  </div>

  <!-- ================= SUBMIT ================= -->
  <button
    mat-raised-button
    class="search-btn"
    (click)="onSubmit()">
    Search
  </button>

</div>
